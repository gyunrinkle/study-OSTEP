# MLFQ

MLFQ가 해결하려고 하는 기본적인 문제는 2개

1. 짧은 작업을 먼저 실행시켜서 turnaround time을 최적화
2. 대화형 사용자를 위해 response time을 최적화

프로세스에 대한 정보가 없다면 이런 스케줄러를 어떻게 만들 수 있을까?

# MLFQ: 기본 규칙

- MLFQ는 여러 개의 큐로 구성
- 각각 다른 priority level 배정
- 실행 준비가 된 process는 이 중 하나의 큐에 존재
- 높은 우선 순위 큐에 존재하는 작업이 선택된다.
- 같은 큐에는 둘 이상의 작업이 존재 가능하다. 이들은 RR 스케줄링 알고리즘을 통해 스케줄링이 된다.
- MLFQ는 각 작업에 고정된 priority를 부여하는 게 아니라, 각 작업의 특성에 따라 동적으로 priority를 부여

## 예시

![MLFQ_예](MLFQ_예.png)

위의 그림을 보면 A와 B를 번갈아 실행할 것이다. C와 D는 실행되지도 않는다. 작업 우선순위가 시간에 따라 어떻게 변하는지도 차차 알아 볼 것이다.

# 시도1: 우선 순위 변경

MLFQ가 작업의 우선순위를 어떻게 바꿀 것인가 결정해야 한다. 이는 곧 작업이 존재할 큐를 결정하는 것과 같은 의미이다.
이를 위해서는 워크로드의 특성을 반영해야 한다. 다음과 같은 규칙을 새로 추가해 보자.

- 규칙 3: 작업이 시스템에 진입하면, 가장 높은 우선순위에 진입한다.
- 규칙 4a: 주어진 time slice를 모두 소진하면, 한 단계 아래 큐로 내려간다.
- 규칙 4b: time slice를 모두 소진하기 전에 CPU를 양도하면 같은 priority를 유지한다.

## 예시 1: 한개의 긴 실행시간을 가진 작업

![긴_실행_시간을_가진_작업의_우선순위_변화](긴_실행_시간을_가진_작업의_우선순위_변화.png)
