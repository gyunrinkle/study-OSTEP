# 가정

1. 모든 작업은 같은 시간 동안 실행된다.
2. 모든 작업은 동시에 도착한다.
3. 각 작업은 시작되면 완료될 때까지 실행된다.
4. 모든 작업은 CPU만 사용한다(즉, 입출력을 수행하지 ᦫ는다).
5. 각 작업의 실행 시간은 사전에 알려져 있다.

# 스케줄링 평가 항목

## **성능** 측면

- 반환 시간(turnaround time)
  - $T_{turnaround} = T_{completion} − T_{arrival}$

## 또 다른 측면

- 공정성(fairness)

성능과 공정성은 서로 상충 됨. 성능을 극대화하기 위해 몇몇 작업의 실행을 중지하면, 결과적으로 공정성이 약화.

# FIFO

먼저 들어온 프로세스를 먼저 처리

## 예시

- 시스템에 Process A, B, C가 거의 동시에 도착 ($T_{arrival} = 0$).

- 간발의 차이로 A, B, C 순으로 도착했다고 가정.

| 프로세스  |    0 ~ 20    |   20 ~ 40    | 40 ~ 60 | 60 ~ 80 | 80 ~ 100 | 100 ~ 120 |
| :-------: | :----------: | :----------: | :-----: | :-----: | :------: | :-------: |
| Process A | ██████░░░░░░ |              |         |         |          |           |
| Process B | ░░░░░░██████ |              |         |         |          |           |
| Process C |              | ██████░░░░░░ |         |         |          |           |

이 작업들의 평균 turnaround time은 ${(10 + 20 + 30)\over3}=20$

여기서 우리가 가정했던 1번 가정을 완화해 보자. 예를 들어, A, B, C 작업이 각각 100, 10, 10이 시간이 걸린다고 가정하자.

| 프로세스  |    0 ~ 20    |   20 ~ 40    |   40 ~ 60    |   60 ~ 80    |   80 ~ 100   |  100 ~ 120   |
| :-------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: |
| Process A | ████████████ | ████████████ | ████████████ | ████████████ | ████████████ |              |
| Process B |              |              |              |              |              | ██████░░░░░░ |
| Process C |              |              |              |              |              | ░░░░░░██████ |

그러면 이 시스템에서 평균 반환 시간은 ${(100 + 110 + 120)\over3}=110$ 으로 늘어난다. 이를 **convoy effect**라 한다.

# SJF

가장 짧은 작업을 먼저 처리

## 예시

방금 FIFO에서 다뤘던 예시를 SJF로 처리하면 다음과 같다.

| 프로세스  |    0 ~ 20    |   20 ~ 40    |   40 ~ 60    |   60 ~ 80    |   80 ~ 100   |  100 ~ 120   |
| :-------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: |
| Process A |              | ████████████ | ████████████ | ████████████ | ████████████ | ████████████ |
| Process B | ██████░░░░░░ |              |              |              |              |              |
| Process C | ░░░░░░██████ |              |              |              |              |              |

그러면 이 시스템에서 평균 반환 시간은 ${(10 + 20 + 120)\over3}=50$ 으로 줄어 든다. 모든 작업이 동시에 도착한다면 SJF는 Optimal하다.
그런데 모든 작업이 동시에 도착한다는 가정 2는 너무 비현실적이다. 2번 가정을 완화해 보자.

| 프로세스  | 0 ~ 10(B, C 도착) ~ 20 |   20 ~ 40    |   40 ~ 60    |   60 ~ 80    |   80 ~ 100   |  100 ~ 120   |
| :-------: | :--------------------: | :----------: | :----------: | :----------: | :----------: | :----------: |
| Process A |      ████████████      | ████████████ | ████████████ | ████████████ | ████████████ |              |
| Process B |                        |              |              |              |              | ██████░░░░░░ |
| Process C |                        |              |              |              |              | ░░░░░░██████ |

B, C가 10의 시간에 도착해 버리면, A가 끝나기를 기다려야 하므로, convoy effect가 발생한다. 평균 반환 시간은 ${100+(110 - 10)+(120-10)\over3}=103.33$이다.
